<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Model Test</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
        model-viewer {
            width: 100%;
            height: 500px;
            background-color: #f0f0f0;
        }
        .debug {
            margin: 20px;
            padding: 10px;
            background: #f5f5f5;
            border: 1px solid #ddd;
        }
    </style>
</head>
<body>
    <div class="debug">
        <h2>3D Model Loading Test</h2>
        <p>Testing GLB file: <code>/uploads/3d-models/3d-model-1757481693733-zuyxfiand0s.glb</code></p>
        <div id="status">Loading...</div>
    </div>
    
    <model-viewer 
        src="/uploads/3d-models/3d-model-1757481693733-zuyxfiand0s.glb"
        alt="Test 3D Model"
        camera-controls
        touch-action="pan-y"
        preload
        loading="eager"
        reveal="auto"
        environment-image="neutral"
        shadow-intensity="1"
        shadow-softness="0.5"
        exposure="1"
        tone-mapping="aces"
        interaction-prompt="auto"
        style="width: 100%; height: 500px; background-color: #f0f0f0;">
    </model-viewer>
    
    <script>
        const modelViewer = document.querySelector('model-viewer');
        const status = document.getElementById('status');
        
        modelViewer.addEventListener('load', () => {
            status.innerHTML = '✅ Model loaded successfully!';
            console.log('Model loaded successfully');
        });
        
        modelViewer.addEventListener('error', (event) => {
            status.innerHTML = '❌ Error loading model: ' + event.detail.type;
            console.error('Model loading error:', event.detail);
        });
        
        modelViewer.addEventListener('progress', (event) => {
            const progress = event.detail.totalProgress * 100;
            status.innerHTML = `Loading... ${progress.toFixed(1)}%`;
            console.log('Loading progress:', progress + '%');
        });
        
        // Test if the GLB file is accessible
        fetch('/uploads/3d-models/3d-model-1757481693733-zuyxfiand0s.glb')
            .then(response => {
                console.log('GLB file response:', response.status, response.statusText);
                console.log('Content-Type:', response.headers.get('content-type'));
                console.log('Content-Length:', response.headers.get('content-length'));
            })
            .catch(error => {
                console.error('GLB file fetch error:', error);
            });
    </script>
</body>
</html>