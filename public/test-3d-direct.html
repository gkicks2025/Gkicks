<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Direct 3D Model Test</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.4.0/model-viewer.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: #f0f0f0;
        }
        model-viewer {
            width: 100%;
            height: 500px;
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .info {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <div class="info">
        <h1>Direct 3D Model Test</h1>
        <p>Testing GLB file: <code>/uploads/3d-models/3d-model-1757481693733-zuyxfiand0s.glb</code></p>
        <p>Status: <span id="status">Loading...</span></p>
    </div>
    
    <model-viewer
        id="model-viewer"
        src="/uploads/3d-models/3d-model-1757481693733-zuyxfiand0s.glb"
        alt="3D Model Test"
        auto-rotate
        camera-controls
        environment-image="neutral"
        shadow-intensity="1"
        exposure="1"
        loading="eager">
        <div slot="progress-bar" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: #666;">
            Loading 3D model...
        </div>
    </model-viewer>

    <script>
        const modelViewer = document.getElementById('model-viewer');
        const status = document.getElementById('status');
        
        console.log('üîç Direct 3D Model Test Started');
        console.log('Model URL:', modelViewer.src);
        
        modelViewer.addEventListener('load', () => {
            console.log('‚úÖ Model loaded successfully');
            status.textContent = 'Model loaded successfully!';
            status.style.color = 'green';
        });
        
        modelViewer.addEventListener('error', (event) => {
            console.error('‚ùå Model failed to load:', event);
            status.textContent = 'Failed to load model: ' + event.detail?.message || 'Unknown error';
            status.style.color = 'red';
        });
        
        modelViewer.addEventListener('progress', (event) => {
            const progress = event.detail.totalProgress;
            console.log('üìä Loading progress:', Math.round(progress * 100) + '%');
            status.textContent = `Loading... ${Math.round(progress * 100)}%`;
        });
        
        // Timeout check
        setTimeout(() => {
            if (status.textContent === 'Loading...') {
                console.warn('‚ö†Ô∏è Model loading timeout');
                status.textContent = 'Loading timeout - check console for errors';
                status.style.color = 'orange';
            }
        }, 10000);
    </script>
</body>
</html>